{"ast":null,"code":"// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { doc, getDoc, getFirestore, setDoc, updateDoc } from \"firebase/firestore\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\n// Required for side-effects\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCS7dNZAYmYEJA6GXKcxtioz_KhtCN0AT4\",\n  authDomain: \"wearworx-sakshxm08.firebaseapp.com\",\n  projectId: \"wearworx-sakshxm08\",\n  storageBucket: \"wearworx-sakshxm08.appspot.com\",\n  messagingSenderId: \"939214306183\",\n  appId: \"1:939214306183:web:4bc74908c5d6ef682ef122\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nexport async function firebaseTry() {\n  try {\n    const docRef = await addDoc(collection(db, \"users\"), {\n      first: \"Ada\",\n      last: \"Lovelace\",\n      born: 1815\n    });\n    console.log(\"Document written with ID: \", docRef.id);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n  const querySnapshot = await getDocs(collection(db, \"users\"));\n  querySnapshot.forEach(doc => {\n    console.log(`${doc.id} => ${doc.data().first} ${doc.data().last} was borned in the year ${doc.data().born}`);\n  });\n}\nexport const addUser = async (user, cart, fav) => {\n  const users = [];\n  const data = await getDocs(collection(db, \"users\"));\n  if (data) {\n    data.forEach(item => {\n      users.push(item.data());\n    });\n  }\n  try {\n    if (!users.find(userEmail => userEmail.email === user.email)) {\n      await setDoc(doc(db, \"users\", user.email), {\n        name: user.displayName,\n        email: user.email,\n        cart: cart,\n        fav: fav\n      });\n      // console.log(\"Document written with ID: \", docRef.id);\n    } else if (!users.find(userCart => userCart.cart === cart)) {\n      await updateDoc(doc(db, \"users\", user.email), {\n        cart: cart\n      });\n    } else if (!users.find(userFav => userFav.fav === user.fav)) {\n      await updateDoc(doc(db, \"users\", user.email), {\n        fav: fav\n      });\n    }\n    console.log(users);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n};\nexport const getCartData = async user => {\n  const userCart = [];\n  const userFav = [];\n  const docRef = doc(db, \"users\", user.email);\n  const data = await getDoc(docRef);\n  if (data.exists()) {\n    userCart.push(data.data().cart);\n    userFav.push(data.data().fav);\n    console.log(userCart, userFav);\n  } else console.log(\"no data\");\n};","map":{"version":3,"names":["initializeApp","doc","getDoc","getFirestore","setDoc","updateDoc","collection","addDoc","getDocs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","firebaseTry","docRef","first","last","born","console","log","id","e","error","querySnapshot","forEach","data","addUser","user","cart","fav","users","item","push","find","userEmail","email","name","displayName","userCart","userFav","getCartData","exists"],"sources":["/Users/sakshamgambhir/Desktop/Work+Projects/Web Development/Projects/Project 12 - WearWorx/client/src/firebase/Firebase.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport {\n  doc,\n  getDoc,\n  getFirestore,\n  setDoc,\n  updateDoc,\n} from \"firebase/firestore\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\n// Required for side-effects\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCS7dNZAYmYEJA6GXKcxtioz_KhtCN0AT4\",\n  authDomain: \"wearworx-sakshxm08.firebaseapp.com\",\n  projectId: \"wearworx-sakshxm08\",\n  storageBucket: \"wearworx-sakshxm08.appspot.com\",\n  messagingSenderId: \"939214306183\",\n  appId: \"1:939214306183:web:4bc74908c5d6ef682ef122\",\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\n\nexport async function firebaseTry() {\n  try {\n    const docRef = await addDoc(collection(db, \"users\"), {\n      first: \"Ada\",\n      last: \"Lovelace\",\n      born: 1815,\n    });\n    console.log(\"Document written with ID: \", docRef.id);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n  const querySnapshot = await getDocs(collection(db, \"users\"));\n  querySnapshot.forEach((doc) => {\n    console.log(\n      `${doc.id} => ${doc.data().first} ${\n        doc.data().last\n      } was borned in the year ${doc.data().born}`\n    );\n  });\n}\nexport const addUser = async (user, cart, fav) => {\n  const users = [];\n  const data = await getDocs(collection(db, \"users\"));\n  if (data) {\n    data.forEach((item) => {\n      users.push(item.data());\n    });\n  }\n  try {\n    if (!users.find((userEmail) => userEmail.email === user.email)) {\n      await setDoc(doc(db, \"users\", user.email), {\n        name: user.displayName,\n        email: user.email,\n        cart: cart,\n        fav: fav,\n      });\n      // console.log(\"Document written with ID: \", docRef.id);\n    } else if (!users.find((userCart) => userCart.cart === cart)) {\n      await updateDoc(doc(db, \"users\", user.email), {\n        cart: cart,\n      });\n    } else if (!users.find((userFav) => userFav.fav === user.fav)) {\n      await updateDoc(doc(db, \"users\", user.email), {\n        fav: fav,\n      });\n    }\n    console.log(users);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n};\nexport const getCartData = async (user) => {\n  const userCart = [];\n  const userFav = [];\n  const docRef = doc(db, \"users\", user.email);\n  const data = await getDoc(docRef);\n  if (data.exists()) {\n    userCart.push(data.data().cart);\n    userFav.push(data.data().fav);\n    console.log(userCart, userFav);\n  } else console.log(\"no data\");\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}