{"ast":null,"code":"import React,{useContext}from\"react\";// import CartContext from \"../context/cartContext\";\nimport{useNavigate}from\"react-router-dom\";import{discountCalc}from\"../api/List\";import{HiHeart}from\"react-icons/hi\";import FavContext from\"../context/favContext\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ProductCard=function ProductCard(_ref){var product=_ref.product;var navigate=useNavigate();var openProduct=function openProduct(){navigate(\"../product/\".concat(product.name.toLowerCase().split(\" \").join(\"\").split(\"-\").join(\"\")),{state:product,replace:false});};var fav=useContext(FavContext);var addToFav=function addToFav(){if(!fav.favArray.find(function(item){return item===product;})){fav.addToFav(product);toast.success(\"Added to Favorites\",{toastId:\"\".concat(product._id,\"-\").concat(product.name),position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"dark\",bodyClassName:\"text-sm font-titleFont\"});}else{toast.info(\"Already in Favorites\",{toastId:\"\".concat(product._id,\"-\").concat(product.name),position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"dark\",bodyClassName:\"text-base font-titleFont\"});}};// const cart = useContext(CartContext);\n// const addToCart = (product) => {\n//   let cartRepeat = cart.cartArray.find(\n//     (cartProduct) => cartProduct._id === product._id\n//   );\n//   if (cartRepeat) {\n//     const findRepeatIndex = cart.cartArray.findIndex(\n//       (item) => item._id === cartRepeat._id\n//     );\n//     findRepeatIndex !== -1 && cart.cartArray.splice(findRepeatIndex, 1);\n//   }\n//   cart.setQty(cart.qty + 1);\n//   console.log(cart.qty);\n//   cart.addToCart(\n//     product._id,\n//     product.name,\n//     product.url,\n//     product.category,\n//     product.keywords,\n//     product.oldPrice,\n//     product.price\n//   );\n// };\n// useEffect(() => {\n//   console.log(cart.cartArray);\n// }, [cart.cartArray]);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"group relative cursor-pointer\",onClick:openProduct,children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-80 overflow-hidden  \",children:/*#__PURE__*/_jsx(\"img\",{className:\"object-cover w-full h-full group-hover:scale-110 duration-500\",src:product.url,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full border px-2 py-4 border-t-0 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 \",children:/*#__PURE__*/_jsx(\"h2\",{className:\"font-titleFont text-base truncate font-semibold\",children:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 text-sm items-center relative overflow-hidden w-[130px] justify-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2 items-baseline \",children:[product.oldPrice&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700 line-through \",children:[\"\\u20B9\",product.oldPrice]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-base\",children:[\"\\u20B9\",product.price]})]})})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:addToFav,className:\"bottom-2 text-xs border z-50 text-gray-500 right-2 hover:bg-gray-200 px-[2px] py-[2px] h-fit   hover:text-gray-900 absolute transform cursor-pointer tablets:translate-x-72 w-[120px] flex gap-1 items-center justify-center transition-transform group-hover:translate-x-0 duration-300\",children:[\"add to favorites \",/*#__PURE__*/_jsx(HiHeart,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-light mt-1\",children:product.category.charAt(0).toUpperCase()+product.category.slice(1)})]}),product.oldPrice&&/*#__PURE__*/_jsxs(\"span\",{className:\"absolute top-4 py-1 pr-2 text-lg drop-shadow pl-4 bg-green-700 text-white right-0\",children:[discountCalc(product.oldPrice,product.price),\"% off\"]})]});};","map":{"version":3,"names":["React","useContext","useNavigate","discountCalc","HiHeart","FavContext","toast","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","navigate","openProduct","concat","name","toLowerCase","split","join","state","replace","fav","addToFav","favArray","find","item","success","toastId","_id","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","bodyClassName","info","className","onClick","children","src","url","alt","oldPrice","price","category","charAt","toUpperCase","slice"],"sources":["/Users/sakshamgambhir/Desktop/Work+Projects/Web Development/Projects/Project 12 - WearWorx/client/src/components/ProductCard.js"],"sourcesContent":["import React, { useContext } from \"react\";\n\n// import CartContext from \"../context/cartContext\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport { discountCalc } from \"../api/List\";\nimport { HiHeart } from \"react-icons/hi\";\nimport FavContext from \"../context/favContext\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport const ProductCard = ({ product }) => {\n  const navigate = useNavigate();\n  const openProduct = () => {\n    navigate(\n      `../product/${product.name\n        .toLowerCase()\n        .split(\" \")\n        .join(\"\")\n        .split(\"-\")\n        .join(\"\")}`,\n      { state: product, replace: false }\n    );\n  };\n  const fav = useContext(FavContext);\n\n  const addToFav = () => {\n    if (!fav.favArray.find((item) => item === product)) {\n      fav.addToFav(product);\n      toast.success(\"Added to Favorites\", {\n        toastId: `${product._id}-${product.name}`,\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"dark\",\n        bodyClassName: \"text-sm font-titleFont\",\n      });\n    } else {\n      toast.info(\"Already in Favorites\", {\n        toastId: `${product._id}-${product.name}`,\n\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"dark\",\n        bodyClassName: \"text-base font-titleFont\",\n      });\n    }\n  };\n  // const cart = useContext(CartContext);\n\n  // const addToCart = (product) => {\n  //   let cartRepeat = cart.cartArray.find(\n  //     (cartProduct) => cartProduct._id === product._id\n  //   );\n  //   if (cartRepeat) {\n  //     const findRepeatIndex = cart.cartArray.findIndex(\n  //       (item) => item._id === cartRepeat._id\n  //     );\n  //     findRepeatIndex !== -1 && cart.cartArray.splice(findRepeatIndex, 1);\n  //   }\n  //   cart.setQty(cart.qty + 1);\n  //   console.log(cart.qty);\n  //   cart.addToCart(\n  //     product._id,\n  //     product.name,\n  //     product.url,\n  //     product.category,\n  //     product.keywords,\n  //     product.oldPrice,\n  //     product.price\n  //   );\n  // };\n  // useEffect(() => {\n  //   console.log(cart.cartArray);\n  // }, [cart.cartArray]);\n\n  return (\n    <div className=\"group relative cursor-pointer\" onClick={openProduct}>\n      <div className=\"w-full h-80 overflow-hidden  \">\n        <img\n          className=\"object-cover w-full h-full group-hover:scale-110 duration-500\"\n          src={product.url}\n          alt=\"\"\n        />\n      </div>\n      <div className=\"w-full border px-2 py-4 border-t-0 relative overflow-hidden\">\n        <div className=\"flex justify-between items-center \">\n          <div className=\"w-1/2 \">\n            <h2 className=\"font-titleFont text-base truncate font-semibold\">\n              {product.name}\n            </h2>\n          </div>\n          <div className=\"flex gap-2 text-sm items-center relative overflow-hidden w-[130px] justify-end\">\n            <div className=\"flex justify-end gap-2 items-baseline \">\n              {product.oldPrice && (\n                <span className=\"text-gray-700 line-through \">\n                  &#8377;{product.oldPrice}\n                </span>\n              )}\n              <span className=\"text-base\">&#8377;{product.price}</span>\n            </div>\n          </div>\n        </div>\n        <span\n          onClick={addToFav}\n          className=\"bottom-2 text-xs border z-50 text-gray-500 right-2 hover:bg-gray-200 px-[2px] py-[2px] h-fit   hover:text-gray-900 absolute transform cursor-pointer tablets:translate-x-72 w-[120px] flex gap-1 items-center justify-center transition-transform group-hover:translate-x-0 duration-300\"\n        >\n          add to favorites <HiHeart />\n        </span>\n\n        <div className=\"text-xs font-light mt-1\">\n          {product.category.charAt(0).toUpperCase() + product.category.slice(1)}\n        </div>\n      </div>\n\n      {product.oldPrice && (\n        <span className=\"absolute top-4 py-1 pr-2 text-lg drop-shadow pl-4 bg-green-700 text-white right-0\">\n          {discountCalc(product.oldPrice, product.price)}% off\n        </span>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}