{"ast":null,"code":"// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { doc, getFirestore, setDoc } from \"firebase/firestore\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\nimport { useState } from \"react\";\n// Required for side-effects\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCS7dNZAYmYEJA6GXKcxtioz_KhtCN0AT4\",\n  authDomain: \"wearworx-sakshxm08.firebaseapp.com\",\n  projectId: \"wearworx-sakshxm08\",\n  storageBucket: \"wearworx-sakshxm08.appspot.com\",\n  messagingSenderId: \"939214306183\",\n  appId: \"1:939214306183:web:4bc74908c5d6ef682ef122\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nexport async function firebaseTry() {\n  try {\n    const docRef = await addDoc(collection(db, \"users\"), {\n      first: \"Ada\",\n      last: \"Lovelace\",\n      born: 1815\n    });\n    console.log(\"Document written with ID: \", docRef.id);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n  const querySnapshot = await getDocs(collection(db, \"users\"));\n  querySnapshot.forEach(doc => {\n    console.log(`${doc.id} => ${doc.data().first} ${doc.data().last} was borned in the year ${doc.data().born}`);\n  });\n}\nexport const addUser = async (user, cart, fav) => {\n  const users = [];\n  const data = await getDocs(collection(db, \"users\"));\n  if (data) {\n    data.forEach(item => {\n      users.push(item.data().email);\n    });\n  }\n  try {\n    if (!users.find(userEmail => userEmail === user.email)) {\n      const docRef = await setDoc(collection(db, \"users\", user.email), {\n        name: user.displayName,\n        email: user.email,\n        cart: cart,\n        fav: fav\n      });\n      console.log(\"Document written with ID: \", docRef.id);\n    } else if (true) {}\n    console.log(users);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n};\nexport const getCartData = async user => {\n  const userCart = [];\n  const data = await getDocs(collection(db, \"users\"));\n  data.forEach(item => {\n    if (item.data().email === user.email) {\n      for (let cartItem of item.data().cart) {\n        userCart.push(cartItem);\n      }\n    }\n  });\n  console.log(userCart);\n};","map":{"version":3,"names":["initializeApp","doc","getFirestore","setDoc","collection","addDoc","getDocs","useState","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","firebaseTry","docRef","first","last","born","console","log","id","e","error","querySnapshot","forEach","data","addUser","user","cart","fav","users","item","push","email","find","userEmail","name","displayName","getCartData","userCart","cartItem"],"sources":["/Users/sakshamgambhir/Desktop/Work+Projects/Web Development/Projects/Project 12 - WearWorx/client/src/firebase/Firebase.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { doc, getFirestore, setDoc } from \"firebase/firestore\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\nimport { useState } from \"react\";\n// Required for side-effects\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCS7dNZAYmYEJA6GXKcxtioz_KhtCN0AT4\",\n  authDomain: \"wearworx-sakshxm08.firebaseapp.com\",\n  projectId: \"wearworx-sakshxm08\",\n  storageBucket: \"wearworx-sakshxm08.appspot.com\",\n  messagingSenderId: \"939214306183\",\n  appId: \"1:939214306183:web:4bc74908c5d6ef682ef122\",\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\nexport async function firebaseTry() {\n  try {\n    const docRef = await addDoc(collection(db, \"users\"), {\n      first: \"Ada\",\n      last: \"Lovelace\",\n      born: 1815,\n    });\n    console.log(\"Document written with ID: \", docRef.id);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n  const querySnapshot = await getDocs(collection(db, \"users\"));\n  querySnapshot.forEach((doc) => {\n    console.log(\n      `${doc.id} => ${doc.data().first} ${\n        doc.data().last\n      } was borned in the year ${doc.data().born}`\n    );\n  });\n}\nexport const addUser = async (user, cart, fav) => {\n  const users = [];\n  const data = await getDocs(collection(db, \"users\"));\n  if (data) {\n    data.forEach((item) => {\n      users.push(item.data().email);\n    });\n  }\n  try {\n    if (!users.find((userEmail) => userEmail === user.email)) {\n      const docRef = await setDoc(collection(db, \"users\", user.email), {\n        name: user.displayName,\n        email: user.email,\n        cart: cart,\n        fav: fav,\n      });\n      console.log(\"Document written with ID: \", docRef.id);\n    } else if (true) {\n    }\n    console.log(users);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n};\nexport const getCartData = async (user) => {\n  const userCart = [];\n  const data = await getDocs(collection(db, \"users\"));\n  data.forEach((item) => {\n    if (item.data().email === user.email) {\n      for (let cartItem of item.data().cart) {\n        userCart.push(cartItem);\n      }\n    }\n  });\n  console.log(userCart);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}